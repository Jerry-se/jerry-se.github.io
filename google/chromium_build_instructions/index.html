<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="Jerry">
        <link rel="canonical" href="https://jerry-se.github.io/google/chromium_build_instructions/">
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>下载编译Chromium - Jerry's blog</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../css/brands.min.css" rel="stylesheet">
        <link href="../../css/solid.min.css" rel="stylesheet">
        <link href="../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <link href="../../css/extra.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/django.min.js"></script>
        <script>hljs.highlightAll();</script>
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-274394082"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());

          gtag('config', "G-274394082");
        </script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">Jerry's blog</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href="../.." class="nav-link">Home</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../markdown/" class="nav-link">Markdown</a>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">C/C++</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../cplusplus/lambda/" class="dropdown-item">Lambda</a>
</li>
                                    
<li>
    <a href="../../cplusplus/questions/" class="dropdown-item">Questions</a>
</li>
                                    
<li>
    <a href="../../cplusplus/bit_xor/" class="dropdown-item">Bit Xor</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Go</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../go/go/" class="dropdown-item">Go tutorial</a>
</li>
                                    
<li>
    <a href="../../go/install/" class="dropdown-item">Install</a>
</li>
                                    
<li>
    <a href="../../go/getting_started/" class="dropdown-item">Getting started</a>
</li>
                                    
<li>
    <a href="../../go/create_module/" class="dropdown-item">Create module</a>
</li>
                                    
<li>
    <a href="../../go/workspaces/" class="dropdown-item">Workspaces</a>
</li>
                                    
<li>
    <a href="../../go/web_service_gin/" class="dropdown-item">Web service gin</a>
</li>
                                    
<li>
    <a href="../../go/generics/" class="dropdown-item">Generics</a>
</li>
                                    
<li>
    <a href="../../go/writing_web_app/" class="dropdown-item">Writing Web app</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Tool</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../git/git/" class="dropdown-item">Git</a>
</li>
                                    
<li>
    <a href="../../git/git_lfs/" class="dropdown-item">Git LFS</a>
</li>
                                    
<li>
    <a href="../../git/gitea/" class="dropdown-item">Gitea</a>
</li>
                                    
<li>
    <a href="../../tool/frp/" class="dropdown-item">Frp</a>
</li>
                                    
<li>
    <a href="../../tool/v2ray/" class="dropdown-item">V2Ray</a>
</li>
                                    
<li>
    <a href="../../tool/activation_keys/" class="dropdown-item">Activation</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Python</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../python/build_blogs_with_pelican/" class="dropdown-item">Pelican</a>
</li>
                                    
<li>
    <a href="../../python/mkdocs/" class="dropdown-item">MkDocs</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Linux 开发</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../linux_development/docker/" class="dropdown-item">docker</a>
</li>
                                    
<li>
    <a href="../../linux_development/coredump/" class="dropdown-item">coredump</a>
</li>
                                    
<li>
    <a href="../../linux_development/ipmi/" class="dropdown-item">ipmi</a>
</li>
                                    
<li>
    <a href="../../linux_development/make_deb_package/" class="dropdown-item">制作 deb 安装包</a>
</li>
                                    
<li>
    <a href="../../linux_development/samba/" class="dropdown-item">Samba</a>
</li>
                                    
<li>
    <a href="../../linux_development/scsi/" class="dropdown-item">SCSI</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Windows 开发</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../windows_development/character_encoding/" class="dropdown-item">字符编码</a>
</li>
                                    
<li>
    <a href="../../windows_development/autostart/" class="dropdown-item">开机启动</a>
</li>
                                    
<li>
    <a href="../../windows_development/automatic_power_up/" class="dropdown-item">自动开机</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item">
                                <a href="../../sitemap/" class="nav-link">Index</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#check_out_and_build_chromium" class="nav-link">下载编译Chromium</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#depot_tools" class="nav-link">depot_tools</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#environment-variable" class="nav-link">环境变量</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#proxying" class="nav-link">设置代理</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#gclient" class="nav-link">gclient</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#git-configuration" class="nav-link">Git 配置</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#get-the-code" class="nav-link">Get the code</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#building" class="nav-link">构建</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#compiling" class="nav-link">编译</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#update-checkout" class="nav-link">更新检出的代码</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#using-visual-studio-ide" class="nav-link">使用 Visual Studio IDE</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#get-code-quickly" class="nav-link">快速获取代码</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="check_out_and_build_chromium">下载编译Chromium<a class="headerlink" href="#check_out_and_build_chromium" title="Permanent link"></a></h1>
<p>Checking out and Building Chromium</p>
<hr />
<h2 id="depot_tools">depot_tools<a class="headerlink" href="#depot_tools" title="Permanent link"></a></h2>
<ol>
<li>Windows: <a href="https://storage.googleapis.com/chrome-infra/depot_tools.zip">https://storage.googleapis.com/chrome-infra/depot_tools.zip</a></li>
<li>Linux:</li>
</ol>
<pre><code class="language-shell">git clone https://chromium.googlesource.com/chromium/tools/depot_tools.git
</code></pre>
<h2 id="environment-variable">环境变量<a class="headerlink" href="#environment-variable" title="Permanent link"></a></h2>
<pre><code class="language-shell"># windows
# 首先向环境变量PATH添加 `C:\src\depot_tools`，最好在Python路径之前
$ set DEPOT_TOOLS_UPDATE=0
# 这告诉depot_tools使用本地安装的Visual Studio版本（默认情况下，depot_tools将尝试使用google内部版本）
$ set DEPOT_TOOLS_WIN_TOOLCHAIN=0
$ set vs2017_install=&quot;C:\Program Files (x86)\Microsoft Visual Studio\2017\Enterprise&quot;
$ set vs2019_install=&quot;C:\Program Files (x86)\Microsoft Visual Studio\2019\Community&quot;
$ set vs2022_install=C:\Program Files\Microsoft Visual Studio\2022\Professional
$ set vs2022_install=C:\Program Files\Microsoft Visual Studio\2022\Community

# vs2015的设置
$ set GYP_MSVS_VERSION=2015
$ set GYP_MSVS_OVERRIDE_PATH=C:\Program Files (x86)\Microsoft Visual Studio 14.0

# linux
# depot tool path必须使用全路径，不要使用~/depot_tools
$ export PATH=&quot;$PATH:/path/to/depot_tools&quot;
$ export DEPOT_TOOLS_UPDATE=0
</code></pre>
<p>Windows环境首次运行gclient的时候有时会出现下面情况</p>
<pre><code class="language-shell">C:\Users\YANGLEI&gt;gclient
系统找不到文件 D:\Documents\GitHub\googlesource\depot_tools\python3_bin_reldir.txt。
[E2022-07-23T13:45:49.800597+08:00 9328 0 annotate.go:273] goroutine 1:
#0 go.chromium.org/luci/vpython/venv/config.go:304 - venv.(*Config).resolvePythonInterpreter()
  reason: none of [D:\Documents\GitHub\googlesource\depot_tools\\\python3.exe] matched specification 3.8.0

#1 go.chromium.org/luci/vpython/venv/config.go:148 - venv.(*Config).resolveRuntime()
  reason: failed to resolve system Python interpreter

#2 go.chromium.org/luci/vpython/venv/venv.go:142 - venv.With()
  reason: failed to resolve python runtime

#3 go.chromium.org/luci/vpython/run.go:60 - vpython.Run()
#4 go.chromium.org/luci/vpython/application/application.go:322 - application.(*application).mainImpl()
#5 go.chromium.org/luci/vpython/application/application.go:410 - application.(*Config).Main.func1()
#6 go.chromium.org/luci/vpython/application/support.go:46 - application.run()
#7 go.chromium.org/luci/vpython/application/application.go:409 - application.(*Config).Main()
#8 infra/tools/vpython/main.go:120 - vpython.mainImpl()
#9 infra/tools/vpython/main.go:134 - vpython.Main()
#10 vpython/main.go:10 - main.main()
#11 runtime/proc.go:255 - runtime.main()
#12 runtime/asm_amd64.s:1581 - runtime.goexit()
</code></pre>
<p>找了很久也没有定位到原因。有时可能是环境变量<code>DEPOT_TOOLS_UPDATE=0</code>的问题，它阻止了<code>depot_tools</code>工具在Windows上正确引导。
所以如果是第一次启动gclient，不要设置环境变量<code>DEPOT_TOOLS_UPDATE=0</code>。</p>
<h2 id="proxying">设置代理<a class="headerlink" href="#proxying" title="Permanent link"></a></h2>
<pre><code class="language-shell"># windows
$ set http_proxy=127.0.0.1:10809
$ set https_proxy=127.0.0.1:10809
# linux
$ export http_proxy=127.0.0.1:10809
$ export https_proxy=127.0.0.1:10809
# Git proxy
$ git config --global http.proxy &quot;http://127.0.0.1:10809&quot;
$ git config --global https.proxy &quot;https://127.0.0.1:10809&quot;
</code></pre>
<h2 id="gclient">gclient<a class="headerlink" href="#gclient" title="Permanent link"></a></h2>
<pre><code class="language-shell">$ gclient
Updating depot_tools...
Usage: gclient.py &lt;command&gt; [options]

Meta checkout dependency manager for Git.

Commands are:
  config   creates a .gclient file in the current directory
  diff     displays local diff for every dependencies
  fetch    fetches upstream commits for all modules
  flatten  flattens the solutions into a single DEPS file
  getdep   gets revision information and variable values from a DEPS file
  grep     greps through git repos managed by gclient
  help     prints list of commands or help for a specific command
  metrics  reports, and optionally modifies, the status of metric collection
  pack     generates a patch which can be applied at the root of the tree
  recurse  operates [command args ...] on all the dependencies
  revert   reverts all modifications in every dependencies
  revinfo  outputs revision info mapping for the client and its dependencies
  root     outputs the solution root (or current dir if there isn't one)
  runhooks runs hooks for files that have been modified in the local working copy
  setdep   modifies dependency revisions and variable values in a DEPS file
  status   shows modification status for every dependencies
  sync     checkout/update all modules
  validate validates the .gclient and DEPS syntax
  verify   verifies the DEPS file deps are only from allowed_hosts

Options:
  --version             show program's version number and exit
  -h, --help            show this help message and exit
  -j JOBS, --jobs=JOBS  Specify how many SCM commands can run in parallel;
                        defaults to 8 on this machine
  -v, --verbose         Produces additional output for diagnostics. Can be
                        used up to three times for more logging info.
  --gclientfile=CONFIG_FILENAME
                        Specify an alternate .gclient file
  --spec=SPEC           create a gclient file containing the provided string.
                        Due to Cygwin/Python brokenness, it can't contain any
                        newlines.
  --no-nag-max          Ignored for backwards compatibility.
</code></pre>
<ul>
<li>--nohooks 不执行 DEPS 中的 hooks</li>
<li>--no-history 不想要完整的历史记录，可以少下载一半的量</li>
<li>--jobs 16  if you wish to use parallelism</li>
</ul>
<p>可以修改<code>.gclient</code>文件来不下载某些依赖库，例如以下三个文件夹是编译后生成的文件，不下载不影响编译和调试。</p>
<pre><code>solutions = [
  {
    &quot;name&quot;: &quot;src&quot;,
    &quot;url&quot;: &quot;https://gitee.com/jerry-se/chromium_deps.git&quot;,
    &quot;managed&quot;: False,
    &quot;custom_deps&quot;: {
      &quot;src/chrome/tools/test/reference_build/chrome_mac&quot;: None,
      &quot;src/chrome/tools/test/reference_build/chrome_win&quot;: None,
      &quot;src/chrome/tools/test/reference_build/chrome_linux&quot;: None,
    },
    &quot;custom_vars&quot;: {},
  },
]
target_os = [&quot;win&quot;]
</code></pre>
<h2 id="git-configuration">Git 配置<a class="headerlink" href="#git-configuration" title="Permanent link"></a></h2>
<p>Windows环境需要</p>
<pre><code class="language-shell">$ git config --global user.name &quot;My Name&quot;
$ git config --global user.email &quot;my-name@chromium.org&quot;
$ git config --global core.autocrlf false
$ git config --global core.filemode false
$ git config --global branch.autosetuprebase always
</code></pre>
<h2 id="get-the-code">Get the code<a class="headerlink" href="#get-the-code" title="Permanent link"></a></h2>
<pre><code class="language-shell">$ mkdir chromium &amp;&amp; cd chromium
$ fetch --nohooks chromium
</code></pre>
<p>如果代码下载过程中因报错等中断了，使用下面的命令继续:</p>
<pre><code class="language-shell">$ gclient sync --nohooks
</code></pre>
<p>签出代码后，如果使用的是Ubuntu系统，请运行:</p>
<pre><code class="language-shell">$ ./build/install-build-deps.sh
</code></pre>
<p>此脚本会安装一些构建依赖项。</p>
<p>切换Release分支</p>
<pre><code class="language-shell"># Inside chromium/src/
# 确保你能获得你要签出的所有release tag信息
$ git fetch --tags
# FETCH_HEAD想要的分支，my_stable_branch本地分支的名称
$ git checkout -b my_stable_branch FETCH_HEAD
$ git checkout -b 100.0.4896.127 100.0.4896.127
$ git checkout -b 103.0.5060.134 103.0.5060.134
# Now synchronize the dependencies to the current branch
$ gclient sync --with_branch_heads --with_tags
</code></pre>
<p>回到"trunk"</p>
<pre><code class="language-shell"># Make sure you are in 'src'.
$ git checkout -f origin/main
$ gclient sync
</code></pre>
<pre><code class="language-shell">$ gclient --runhooks
</code></pre>
<p>可能还会遇到一个代理的报错:</p>
<pre><code class="language-shell">Failed download_from_google_storage --no_resume --platform=win32 --no_auth --bucket chromium-gn -s src/buildtools/linux32/gn.sha1 
NOTICE: You have PROXY values set in your environment, but gsutil in depot_tools does not (yet) obey them. 
Also, --no_auth prevents the normal BOTO_CONFIG environment variable from being used. 
To use a proxy in this situation, please supply those settings in a .boto file pointed to by the NO_AUTH_BOTO_CONFIG environment var.
</code></pre>
<p>办法就是找个文件夹创建一个文件<code>boto.cfg</code>或者<code>.boto</code>，在文件中输入以下内容:</p>
<pre><code>[Boto]
proxy = http://http.proxy.com
proxy_port = 12345
</code></pre>
<p>然后设置环境变量</p>
<pre><code class="language-shell">set NO_AUTH_BOTO_CONFIG=D:\boto.cfg
export NO_AUTH_BOTO_CONFIG=D:\.boto
</code></pre>
<p>参考链接:</p>
<ul>
<li><a href="https://www.chromium.org/developers/how-tos/get-the-code/">Get the code</a></li>
<li><a href="https://www.chromium.org/developers/how-tos/old-get-the-code/">how to get old code</a></li>
<li><a href="https://www.chromium.org/developers/how-tos/get-the-code/working-with-branches/">Working with Branches</a></li>
<li><a href="https://www.chromium.org/developers/how-tos/get-the-code/working-with-release-branches/">Working with Release Branches</a></li>
<li><a href="https://omahaproxy.appspot.com/">OmahaProxy CSV Viewer</a></li>
<li><a href="https://chromiumdash.appspot.com/schedule">Chromium Development Calendar and Release Info</a></li>
</ul>
<h2 id="building">构建<a class="headerlink" href="#building" title="Permanent link"></a></h2>
<pre><code class="language-shell">$ gn gen out/Default
</code></pre>
<pre><code># Build arguments go here.
# See &quot;gn args &lt;out_dir&gt; --list&quot; for available build arguments.
is_debug = false
is_component_build = true
enable_nacl = false
target_cpu = &quot;x86&quot;
blink_symbol_level = 0
v8_symbol_level = 0
symbol_level = 0
use_goma = false
</code></pre>
<p>Windows 系统中构建和编译代码需要安装 C++ 和 "MFC/ATL support"，在 Visual Studio Installer 中选择即可。还需要安装 Windows SDK，例如版本10.0.20348.0，并且安装时选中 Debugging Tools for Windows，即:</p>
<p>"C:\Program Files (x86)\Windows Kits\10\Debuggers\x86\dbghelp.dll"</p>
<p>Windows SDK 可以在 Visual Studio 安装器中安装，还可以下载单独的安装程序，请注意系统和版本。</p>
<p><a href="https://developer.microsoft.com/zh-cn/windows/downloads/windows-sdk/">Windows SDK</a></p>
<p><a href="https://developer.microsoft.com/zh-cn/windows/downloads/sdk-archive/">Windows SDK 历史版本</a></p>
<h2 id="compiling">编译<a class="headerlink" href="#compiling" title="Permanent link"></a></h2>
<p><code>autoninja</code> 是一个包装器，它可以自动为 <code>ninja</code> 的参数提供最佳值。</p>
<p>可以通过运行命令 <code>gn ls out/Default</code> 获取所有的构建目标列表。要编译其中一个，请将不带"//"的GN标签传递给Ninja(因此对于 <code>//chrome/test:unit_tests</code> 请使用命令 <code>ninja -C out/Default chrome/test:unit_tests</code>)。</p>
<pre><code class="language-shell">$ autoninja -C out/Default chrome
$ autoninja -C out/Default base
$ autoninja -C out/Default base_unittests
$ autoninja -C out/Default unit_tests
</code></pre>
<h2 id="update-checkout">更新检出的代码<a class="headerlink" href="#update-checkout" title="Permanent link"></a></h2>
<pre><code class="language-shell">$ git rebase-update
$ gclient sync -D
</code></pre>
<p>第一条命令更新主要的 chromium 源存储库，并将您的任何本地分支重新定位在 <code>origin/main</code> 上。如何不想使用这个脚步，可以只使用 <code>git pull</code> 或其他常见的 Git 命令来更新 repo。</p>
<p>第二条命令将子存储库同步到适当的版本，删除不再需要的，并根据需求重新运行 hooks。</p>
<h2 id="using-visual-studio-ide">使用 Visual Studio IDE<a class="headerlink" href="#using-visual-studio-ide" title="Permanent link"></a></h2>
<p>如果想使用 Visual Studio IDE 来开发 Chromium，请在构建生成输出目录时使用 <code>--ide</code> 参数运行命令 <code>gn gen</code>：</p>
<pre><code class="language-shell">$ gn gen --ide=vs out\Default
$ devenv out\Default\all.sln
</code></pre>
<p>GN 将在构建目录中生成文件 <code>all.sln</code> 。它将在内部使用 Ninja 进行编译，同时仍然允许大多数 IDE 功能工作。</p>
<p>生成的解决方案将包含数千个项目，并且加载速度非常慢。使用 <code>--filters</code> 参数来限制仅为您感兴趣的代码生成项目文件。虽然这也会限制在项目资源管理器中显示的文件，但调试仍然有效，可以在手动打开的文件中设置断点。让您在 IDE 中编译和运行 Chrome 但不会显示任何源文件的最小解决方案是：</p>
<pre><code class="language-shell">$ gn gen --ide=vs --filters=//chrome --no-deps out\Default
</code></pre>
<p>可以有选择地将关心的其他目录添加到过滤器中，如下所示: <code>--filters=//chrome;//third_party/WebKit/*;//gpu/*</code></p>
<p>还有其他选项可用于控制解决方案的生成方式，请在当前文档下运行 <code>gn help gen</code> 命令。</p>
<h2 id="get-code-quickly">快速获取代码<a class="headerlink" href="#get-code-quickly" title="Permanent link"></a></h2>
<p>直接下载官方代码压缩包，可以指定版本。例如:
<a href="https://commondatastorage.googleapis.com/chromium-browser-official/chromium-70.0.3538.67.tar.xz">https://commondatastorage.googleapis.com/chromium-browser-official/chromium-70.0.3538.67.tar.xz</a></p>
<p>下载解压后在上一层文件夹手动创建<code>.gclient</code>等文件，然后执行命令<code>gclient runhooks</code>即可。</p>
<p><a href="https://blog.csdn.net/Mymain/article/details/45399025">如何快速获取Chromium源码和编译</a></p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>Copyright &copy; 2022 Jerry, All Rights Reserved.</p>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
